jQuery(document).ready(function (e) { var t = document.location.hash.substring(1), a = jQuery("#csoptions").attr("action"), n = !1; function i(e) { jQuery("." + e).change(function () { var t = jQuery("." + e + ":checked").val(); t = void 0 === (t = jQuery.isNumeric(t) ? "x" + t : t) ? "x0" : t, jQuery("." + e + "-switch." + t).css("display", "block"), jQuery("." + e + "-switch:not(." + t + ")").css("display", "none") }), jQuery("." + e).first().trigger("change") } function r(t) { jQuery("#add-" + t).click(function (a) { a.preventDefault(); var n = jQuery("#wrapper-" + t), i = jQuery("#wrapper-" + t + " .target-repeater-fields"), r = n.find(".source-repeater-fields").children().clone(); e(r[0]).val(""), e(i).append(r) }), function (t) { jQuery("#wrapper-" + t + " .target-repeater-fields").on("click", "a[href=#delete-" + t + "]", function (t) { t.preventDefault(), e(this).prev().remove(), e(this).remove() }), jQuery("#wrapper-" + t + " .source-repeater-fields").on("click", "a[href=#delete-" + t + "]", function (t) { t.preventDefault(), e(this).prev().val("") }) }(t) } navtab = function (e) { jQuery(".cmp-coming-soon-maintenance .nav-tab-wrapper .nav-tab").removeClass("nav-tab-active"), jQuery('.nav-tab-wrapper .nav-tab[data-tab="' + e + '"]').addClass("nav-tab-active"), jQuery(".cmp-coming-soon-maintenance .table-wrapper." + e).css("display", "block"), jQuery(".cmp-coming-soon-maintenance .table-wrapper-css." + e).css("display", "block"), jQuery(".cmp-coming-soon-maintenance .comingsoon." + e).css("display", "block"), jQuery(".cmp-coming-soon-maintenance .table-wrapper:not(." + e + ")").css("display", "none"), jQuery(".cmp-coming-soon-maintenance .table-wrapper-css:not(." + e).css("display", "none"), jQuery(".cmp-coming-soon-maintenance .comingsoon:not(." + e + ")").css("display", "none"), "install" == e ? (jQuery(".cmp-coming-soon-maintenance .submit").css("display", "none"), jQuery(".cmp-coming-soon-maintenance #csoptions").attr("action", a)) : (jQuery(".cmp-coming-soon-maintenance .submit").css("display", "block"), jQuery(".cmp-coming-soon-maintenance #csoptions").attr("action", a + "#" + e)) }, "" != t ? navtab(t) : jQuery(".cmp-coming-soon-maintenance .table-wrapper-css").css("display", "none"), window.onhashchange = function () { t = document.location.hash.substring(1), navtab(t) }, jQuery(".cmp-coming-soon-maintenance .nav-tab").click(function (e) { e.preventDefault(), t = jQuery(this).data("tab"), document.location.hash = t }), i("page-whitelist"), i("cmp-bypass"), i("cmp-topbar-icon"), i("countdown-toggle"), i("mode-change-toggle"), i("cmp-wpautop"), i("cmp-cookienotice"), r("head_scripts"), r("footer_scripts"), jQuery("#cmp-import-json").on("change", function (t) { jQuery(".import-json-label").attr("data-default", t.target.files[0].name); var a = new FileReader; a.onload = function (e) { jQuery("#cmp-import-input").val(e.target.result) }, a.readAsText(t.target.files[0]), e("#cmp-import-settings").attr("disabled", !1), jQuery(".import-json-label").removeClass("import-fail"), n = !1 }), jQuery("#cmp-export-json").click(function (e) { e.preventDefault(); var t = { action: "cmp_ajax_export_settings", security: jQuery(this).data("security") }; jQuery.post(ajaxurl, t, function (e) { e && jQuery("<iframe />").attr("src", ajaxurl + "?action=cmp_ajax_export_settings&security=" + jQuery("#cmp-export-json").data("security")).appendTo("body").hide() }) }), jQuery("#cmp-import-settings").click(function (e) { if (e.preventDefault(), !0 === n) return !1; var t = jQuery("#cmp-import-input").val(), a = jQuery(".import-json-label"); if (!jQuery("#cmp-import-media").is(":checked")) { var i = new Array("niteoCS_banner_id", "niteoCS_logo_id", "niteoCS_seo_img_id"); (t = jQuery.parseJSON(t)).map(function (e, a) { for (var n in e) i.indexOf(n) > -1 && t.splice(a, 1) }), t = JSON.stringify(t) } var r = { action: "cmp_ajax_import_settings", security: jQuery(this).data("security"), json: t }; n = !0; var c = (new Date).getTime(); a.html('<i class="fa fa-cog fa-spin" aria-hidden="true"></i> importing..'), a.attr("data-default", ""), jQuery.post(ajaxurl, r, function (e) { if (e) { var t = (new Date).getTime() - c, n = jQuery.parseJSON(e); t > 2e3 ? ("success" == n.result ? a.addClass("import-success") : a.addClass("import-fail"), a.html(""), a.attr("data-default", n.message)) : setTimeout(function () { "success" == n.result ? a.addClass("import-success") : a.addClass("import-fail"), a.html(""), a.attr("data-default", n.message) }, 2e3 - t) } }) }), jQuery(".cmp-whitelist-select, .cmp-blacklist, .cmp-user_roles").select2({ width: "calc(100% - 1em)", placeholder: "Click to select.." }), jQuery('select[name="niteoCS_topbar_version"]').select2({ width: "calc(100% - 1em)", minimumResultsForSearch: -1 }) });